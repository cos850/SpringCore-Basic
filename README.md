μ¶μ²: [κΉ€μν•μ μ¤ν”„λ§ ν•µμ‹¬ μ›λ¦¬ - κΈ°λ³ΈνΈ](https://www.inflearn.com/course/μ¤ν”„λ§-ν•µμ‹¬-μ›λ¦¬-κΈ°λ³ΈνΈ)

## μ μ–΄μ μ—­μ „ (IoC, Inversion of Control)

<aside>
π’΅ ν”„λ΅κ·Έλ¨μ μ μ–΄ νλ¦„μ— λ€ν• κ¶ν•μ„ μ™Έλ¶€μ—μ„ κ΄€λ¦¬ν•λ” κ²ƒ
</aside>

μ μ–΄μ μ—­μ „ μ—†μ΄ κ°λ°μ„ ν•κ² λλ©΄, ν΄λΌμ΄μ–ΈνΈ κµ¬ν„ κ°μ²΄κ°€ μ¤μ¤λ΅ ν•„μ”ν• μ„λ²„ κµ¬ν„ κ°μ²΄λ¥Ό μƒμ„±ν•κ³  μ‹¤ν–‰ν•λ‹¤. μ΄λ” κµ¬ν„ κ°μ²΄κ°€ μ μ–΄μ νλ¦„μ„ μ΅°μΆ…ν•λ” κ¶ν•μ„ κ°€μ§€κ³  μλ” κ²ƒμ΄λ‹¤.

μ΄λ° μƒν™©μ—μ„ κµ¬ν„ κ°μ²΄λ¥Ό λ³€κ²½ν•κ² λλ” κ²½μ°, ν΄λΌμ΄μ–ΈνΈ μ½”λ“μ— μμ •μ΄ λ°μƒν•κ² λλ‹¤.

### μμ‹) μ£Όλ¬Έ μ„λΉ„μ¤μ ν• μΈ μ •μ±…μ„ λ³€κ²½ν•λ” μƒν™©

ν• μΈ μ •μ±…μ„ FixDiscountPolicyμ—μ„ RateDiscountPolicyλ΅ λ³€κ²½μ΄ ν•„μ”ν• μƒν™©μ΄λ‹¤.
<br /><br />

- **κµ¬ν„ κ°μ²΄κ°€ μ μ–΄μ νλ¦„μ„ κ΄€λ¦¬**

```java
public class OrderServiceImpl implements OrderService {

// μ •μ•΅ ν• μΈμ—μ„ μ •λ¥  ν• μΈμΌλ΅ λ³€κ²½ν•κ² λλ” κ²½μ°, ν΄λΌμ΄μ–ΈνΈ μ½”λ“μ— λ³€κ²½μ΄ λ°μƒν•λ‹¤.
//    private final DiscountPolicy discountPolicy = new FixDiscountPolicy();
    private final DiscountPolicy discountPolicy= new RateDiscountPolicy();
}
```

ν„μ¬ μ½”λ“κ°€ μ¶”μƒ μΈν„°νμ΄μ¤μ—λ§ μμ΅΄ν•μ§€ μ•κ³ , κµ¬μ²΄ ν΄λμ¤μ—λ„ ν•¨κ» μμ΅΄ν•κΈ° λ•λ¬Έμ— ν΄λΌμ΄μ–ΈνΈμ½”λ“μ μμ •μ΄ μΌμ–΄λ‚κ² λλ‹¤!! (OCP, DIP μ„λ°)

μ΄λ¥Ό ν•΄κ²°ν•λ ¤λ©΄ **κ΄€μ‹¬μ‚¬ λ¶„λ¦¬**κ°€ ν•„μ”ν•λ‹¤.

**=> μ±…μ„μ„ λ¶„λ¦¬ν•΄μ„ ν΄λΌμ΄μ–ΈνΈλ” μ¶”μƒ μΈν„°νμ΄μ¤μ—λ§ μμ΅΄ν•λ„λ΅ ν•κ³ , κµ¬μ²΄ ν΄λμ¤ ν• λ‹Ήμ„ κ΄€λ¦¬ν•΄μ£Όλ” μ±…μ„μ„ κ°€μ§„ λ‹¤λ¥Έ ν΄λμ¤κ°€ μμ–΄μ•Ό ν•λ‹¤.**
<br /><br />

- **μ μ–΄μ μ—­μ „ μ μ©**

μƒμ„±μλ¥Ό ν†µν•΄ μ™Έλ¶€μ—μ„ κµ¬μ²΄ ν΄λμ¤λ¥Ό λ°›λ„λ΅ μμ •ν•λ‹¤. (μƒμ„±μ μμ΅΄κ΄€κ² μ£Όμ…)

```java
public class OrderServiceImpl implements OrderService {
    private final DiscountPolicy discountPolicy;

    public OrderServiceImpl(DiscountPolicy discountPolicy) {
        this.discountPolicy = discountPolicy;
    }
}
```
<br />
κµ¬ν„ ν• λ‹Ήμ„ κ΄€λ¦¬ν•λ” μ—­ν• μ„ μƒλ΅μ΄ ν΄λμ¤μ—κ² μ„μ„ν•λ‹¤.

```java

public class AppConfig {

    public OrderService orderService() {
        return new OrderServiceImpl(getDiscountPolicy());
    }

    private static DiscountPolicy getDiscountPolicy() {
        return new RateDiscountPolicy();
    }
}
```

μ„μ™€ κ°™μ΄ μ μ–΄μ μ—­μ „μ„ μ΄μ©ν•κ² λλ©΄

- κµ¬μ„±ν•λ” μ±…μ„κ³Ό μ‹¤ν–‰ν•λ” μ±…μ„μ΄ λ¶„λ¦¬κ°€ λλ©΄μ„ κ° ν΄λμ¤μ μ±…μ„μ΄ λ…ν™•ν•΄μ΅λ‹¤.
  (μμ—°μ¤λ½κ² λ‹¨μΌ μ±…μ„ μ›μΉ™(SRP)μ„ μ§€ν‚¤κ² λλ‹¤)
- ν• μΈ μ •μ±…μ΄ λ³€κ²½λμ–΄λ„ ν΄λΌμ΄μ–ΈνΈ(μ£Όλ¬Έ μ„λΉ„μ¤)μ—μ„λ” μ½”λ“λ¥Ό λ³€κ²½ν•μ§€ μ•μ•„λ„ λλ‹¤.
- μ΄μ  λ”μ΄μƒ ν΄λΌμ΄μ–ΈνΈλ” κµ¬μ²΄ ν΄λμ¤μ— λ€ν•΄ μ• μ μ—†λ‹¤!

**μ΄λ ‡κ² ν”„λ΅κ·Έλ¨μ μ μ–΄ νλ¦„μ„ μ§μ ‘ μ μ–΄ν•λ” κ²ƒμ΄ μ•„λ‹λΌ μ™Έλ¶€μ—μ„ κ΄€λ¦¬ν•κ² λλ” κ²ƒμ΄ μ μ–΄μ μ—­μ „μ΄λ‹¤.**

<br /><br /><br />

### *ν”„λ μ„μ›ν¬ vs λΌμ΄λΈλ¬λ¦¬

- λ‚μ μ½”λ“λ¥Ό λ€μ‹  μ‹¤ν–‰ν•λ©΄μ„ μ μ–΄ν•κ²λλ‹¤λ©΄ κ·Έκ²ƒμ€ ν”„λ μ„μ›ν¬
- λ°λ©΄μ— λ‚΄κ°€ μ§μ ‘ ν•΄λ‹Ή μ½”λ“λ¥Ό νΈμ¶ν•λ©΄μ„ μ μ–΄μ νλ¦„μ„ λ‹΄λ‹Ήν•κ² λλ‹¤λ©΄ κ·Έκ²ƒμ€ λΌμ΄λΈλ¬λ¦¬

μ¦‰, μ‹¤ν–‰μ μ£Όλ„κ¶μ΄ μ–΄λ””μ— μλ”μ§€κ°€ μ¤‘μ”ν• κµ¬λ¶„μ μ΄ λλ‹¤λ” λ§μ΄λ‹¤.

μ΅°κΈ λ” κµ¬μ²΄μ μΌλ΅ μ„¤λ…ν•λ©΄

- ν”„λ μ„μ›ν¬λ” λΌμ΄λΈλ¬λ¦¬μ™€ λ‹¤λ¥΄κ² μ‹¤μ  κΈ°λ¥μ„ λ‹΄λ‹Ήν•λ” λ΅μ§μ€ λΉ μ ΈμμΌλ‚, νΉμ • ν‹€μ„ μ κ³µν•λ©΄μ„ κ°λ°μλ” κ·Έμ— λ§μ¶°μ„ κ°λ°μ„ ν•λ©΄ ν”„λ μ„μ›ν¬κ°€ νΈμ¶ν•λ” λ°©μ‹
- λΌμ΄λΈλ¬λ¦¬λ” κ°λ°μκ°€ μ‹¤μ  κΈ°λ¥μ„ ν•λ” μ½”λ“λ¥Ό μ§μ ‘ νΈμ¶ν•μ—¬ κ°λ°μ νΈμλ¥Ό λ•λ” λ°©μ‹

μ΄λ‹¤.

λ‚λ” κ·Έλ™μ• λΌμ΄λΈλ¬λ¦¬λ” μ½”λ“λ§ μ κ³µν•΄μ£Όλ” κ²ƒ, ν”„λ μ„μ›ν¬λ” λΌμ΄λΈλ¬λ¦¬ + κΈ°λ³Έ λ°”νƒ•κΉμ§€ μ κ³µν•λ”κ²ƒ μ΄λΌκ³  μ•κ³  μμ—κ³ , μλ―Έλ” μ•κ² μ§€λ§ μ μ™€λ‹Ώμ§€ μ•μ•λ‹¤.

ν•μ§€λ§ κΉ€μν•λ‹μ Spring ν•µμ‹¬ μ›λ¦¬ κ°•μμ—μ„ μ μ–΄μ μ—­μ „μ„ μ΄μ©ν•΄ κ°„λ‹¨ν•κ² λΉ„κµν•΄μ£Όμ‹  λ•λ¶„μ— μ°¨μ΄μ μ„ λ…ν™•ν•κ² μΈμ§€ν•κ² λμ—λ‹¤.